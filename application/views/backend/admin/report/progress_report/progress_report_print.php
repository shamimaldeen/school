<!DOCTYPE html><html><head>    <meta charset="utf-8">    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">    <link rel="stylesheet" href="<?php echo base_url('assets/css/bootstrap.css');?>">    <link rel="stylesheet" href="<?php echo base_url('assets/css/custom.css');?>"></head>    <body><style>    @page { sheet-size: A4-L; }    .header_igm img{        width: 150px;    }    .clr{        clear: both;    }    body{        font-size: 10px;        color: #000 !important;    }    .report_left{        float: left;        width: 87%;    }    .marks_body_left {        float: left;        width: 100%;    }    .report_right{        margin: 0;        width: 12%;        float: right;        padding: 0;    }    table.grade_scale tr td{        padding: 4px;    }    table{        width: 100%;    }    .table_head tr td{        padding: 5px;        text-align: center;    }    table tr td, table tr th{        padding: 5px;    }    .top_table{        padding: 0px !important;    }    .rotate_marks {        text-align: center;        white-space: nowrap;        vertical-align: middle;        height: 100px;    }    .rotate_marks div {        -moz-transform: rotate(-90.0deg);  /* FF3.5+ */        -o-transform: rotate(-90.0deg);  /* Opera 10.5 */        -webkit-transform: rotate(-90.0deg);  /* Saf3.1+, Chrome */        filter:  progid:DXImageTransform.Microsoft.BasicImage(rotation=0.083);  /* IE6,IE7 */        -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0.083)"; /* IE8 */        margin-left: -10em;        margin-right: -10em;    }    .report_right table {        font-size: 7px;        color: #000 !important;    }    .report_right table tr td .report_right table tr th{        padding: 3px;    }    td.glyphicon.glyphicon-ok{        /*display: table-cell;*/        border: 0;    }</style>    <?php    $CI = get_instance();    $CI->load->model('report_model');    $sl =1;    $check_annual_grade = '';    $vtype = $this->session->userdata('vtype');    $version_name= $this->db->get_where('version_type',['id'=>$vtype])->row()->name;    ?>    <div class="container body_all">        <div class="head_top">        <div class="report_left">            <table class="top_table">                <tr class="top_table">                    <td class="top_table">                        <img width="100" style="margin: 10px 0" src="<?php echo base_url('uploads/logo.png') ?>" alt="">                    </td>                    <td style="text-align: center" class="top_table">                        <h2><?php echo get_settings('system_name'); ?></h2>                        <p><?php echo get_settings('address'); ?></p>                        <h2>Progress Report (<?=$version_name?>)</h2>                    </td>                </tr>            </table>            <table border="1" class="table_head">                <tr>                    <td>ID</td>                    <td><?=$student_transcript_info->student_code; ?></td>                    <td>Name</td>                    <td><?=$student_transcript_info->name; ?></td>                    <td>Class</td>                    <td><?= $class_name->name ?></td>                    <td>Roll</td>                    <td><?= $roll_enroll->roll?></td>                    <td>Section</td>                    <td><?= $section_name->name ?></td>                    <td>Shift</td>                    <td><?= (($student_transcript_info->shift) ? $student_transcript_info->shift : '-') ?></td>                </tr>            </table>        </div>        <div class="report_right">            <table border="1" class="grade_scale">                <thead>                    <tr>                        <th>LG</th>                        <th>MARKS</th>                        <th>GPA</th>                    </tr>                </thead>                <tbody>                <?php foreach ($all_grade_point as $grade_point):?>                    <tr>                        <td><?= $grade_point->name?></td>                        <td><?= $grade_point->mark_from . ' - '. $grade_point->mark_upto?></td>                        <td><?= $grade_point->grade_point?></td>                    </tr>                <?php endforeach;?>                </tbody>            </table>        </div>        <div class="clr"></div>        </div><!--        <div class="c_header">--><!--            <div class="header_igm col-md-12">--><!--                <img width="100" src="--><?php //echo base_url('uploads/logo.png') ?><!--" alt=""> --><?php //echo get_settings('system_name'); ?><!--            </div>--><!--        </div>-->        <br>        <div class="table_body">            <div class="marks_body_left">                <table border="1">                    <tr>                        <td rowspan="2">Subjects</td>                        <td colspan="12" style="text-align: center"><?=$exam->name;?></td>                    </tr>                    <tr>                        <td class="rotate_marks"><div>Full Marks</div></td>                        <td class="rotate_marks"><div>Pass Marks</div></td>                        <td class="rotate_marks"><div style="transform: rotate(-90.0deg) !important;">CQ</div></td>                        <td class="rotate_marks"><div>MCQ</div></td>                        <td class="rotate_marks"><div>PR</div></td>                        <td class="rotate_marks"><div>Total</div></td>                        <td class="rotate_marks"><div>Highest Marks</div></td>                        <td class="rotate_marks" style="width: 40px"><div>Grand Total</div></td>                        <td class="rotate_marks" style="width: 40px"><div>GPA</div></td>                        <td class="rotate_marks"><div>Letter Grade</div></td>                        <td class="rotate_marks"><div>Position</div></td>                        <!-- Half Yearly Examination End-->                        <!-- Annual Examination Shard-->                    </tr>                    <tbody>                    <?php//                    $all_subject_all_mark=0;//                    foreach ($tabulation_all_sub as $subject_mark){//                        $all_subject_all_mark +=$subject_mark->full_marks;//                    }                    $rowspan = count($tabulation_all_sub);                    $opt_count = count($tabulation_all_opt);                    $rowspan += $opt_count;                    $sl = $rowspan;                    $grand_total = 0;                    $status = 0;                    foreach ($tabulation_all_sub as $all_subject):                        $total_marks = 0;                        $progress_result = $CI->report_model->get_progress_subjects_result($exam->exam_id, $all_subject->subject_id, $student_id);                        $progress_height_marks = $CI->report_model->get_progress_height_marks($class_id, $exam->exam_id, $all_subject->subject_id);                        //$progress_height_marks2 = $CI->report_model->get_progress_height_marks($xmid2, $all_subject->subject_id);                        $merit_position_xm1 = $CI->report_model->getMeritPosition_forResultCard($exam->exam_id, $class_id, $student_id);                        //$merit_position_final = $CI->report_model->getMeritPosition_forAnnualExam_resultCard($xmid1,$xmid2, $class_id, $student_id);                        ?>                        <tr>                            <td><?= $all_subject->name ?></td>                            <td style="text-align: center; padding: 5px 0px">                                <?Php                                $full_pas_mark=0;                                if (!empty($all_subject->full_marks)) {                                    $full_pas_mark +=$all_subject->full_marks;                                    echo $all_subject->full_marks;                                }?>                            </td>                            <td style="text-align: center; padding: 5px 0px">                                <?Php                                if (!empty($all_subject->pass_marks)) {                                    echo $all_subject->pass_marks;                                }?>                            </td>                            <td style="text-align: center; padding: 5px 0px">                                <?Php                                if (!empty($progress_result->mark_obtained)) {      //CQ Marks                                    echo $progress_result->mark_obtained;                                    $total_marks += $progress_result->mark_obtained;                                }?>                            </td>                            <td style="text-align: center; padding: 5px 0px">                                <?Php                                if (!empty($progress_result->cw_marks)) {       //MCQ Marks                                    echo $progress_result->cw_marks;                                    $total_marks +=$progress_result->cw_marks;                                }?>                            </td>                            <td style="text-align: center; padding: 5px 0px">                                <?Php                                if (!empty($progress_result->hw_marks)) {       //Practical Marks (if any)                                    echo $progress_result->hw_marks;                                    $total_marks += $progress_result->hw_marks;                                }?>                            </td>                            <td style="text-align: center; padding: 5px 0px">                                <?php                                if(!empty($progress_result && $total_marks !== 0)){         //Total Mark Sum = (CQ+MCQ+PR)                                    echo $total_marks;                                    $grand_total += $total_marks;                                }                                ?>                            </td>                            <td style="text-align: center; padding: 5px 0px"><?php echo $progress_height_marks;//Print Height Mark ?></td>                                <?php                                if ($rowspan == $sl):                                    $allSubPassCheck = $CI->report_model->check_all_subject_pass($exam->exam_id, $student_id, $roll_enroll->opt_sub_id);                                ?>                                <td rowspan="<?php echo $rowspan; ?>" style="width: 0; text-align: center; padding: 0"><div>                                    <?php                                    if($allSubPassCheck) {                                        echo $totalObtainMark = $allSubPassCheck['all_obtained_marks'];         //                                    }                                    ?>                                </div></td>                                <?php                                    if($allSubPassCheck && ($allSubPassCheck['pass_status']==1)) {                                            echo '<td rowspan="'.$rowspan.'" style="width: 0; text-align: center; padding: 0"><div>'.$allSubPassCheck['all_grade_point'].'</div></td>';                                            echo '<td rowspan="'.$rowspan.'" style="width: 0; text-align: center; padding: 0"><div>'.$allSubPassCheck['all_grade_name'].'</div></td>';                                    } else{                                        echo '<td rowspan="'.$rowspan.'" style="width: 0; text-align: center; padding: 0"><div>0.00</div></td>';                                        echo '<td rowspan="'.$rowspan.'" style="width: 0; text-align: center; padding: 0"><div>F</div></td>';                                    }?>                                <td rowspan="<?php echo $rowspan; ?>" style="width: 0; text-align: center; padding: 0"><div><?php echo  $merit_position_xm1; ?></div></td>                                <?php endif;?>                        </tr>                    <?php                    $sl--;                    endforeach;                    /*********************************Optional Subjects (if any)************************************/                    if ($opt_count>0)                    {                        foreach ($tabulation_all_opt as $opt_subject):                            $total_marks = 0;                            $progress_result = $CI->report_model->get_progress_subjects_result($exam->exam_id, $opt_subject->subject_id, $student_id);                            $progress_height_marks = $CI->report_model->get_progress_height_marks($class_id, $exam->exam_id, $opt_subject->subject_id);                            ?>                            <tr>                                <td><?= $opt_subject->name ?></td>                                <td style="text-align: center; padding: 5px 0px">                                    <?Php                                    $full_pas_mark=0;                                    if (!empty($opt_subject->full_marks)) {                                        $full_pas_mark +=$opt_subject->full_marks;                                        echo $opt_subject->full_marks;                                    }?>                                </td>                                <td style="text-align: center; padding: 5px 0px">                                    <?Php                                    if (!empty($opt_subject->pass_marks)) {                                        echo $opt_subject->pass_marks;                                    }?>                                </td>                                <td style="text-align: center; padding: 5px 0px">                                    <?Php                                    if (!empty($progress_result->mark_obtained)) {      //CQ Marks                                        echo $progress_result->mark_obtained;                                        $total_marks += $progress_result->mark_obtained;                                    }?>                                </td>                                <td style="text-align: center; padding: 5px 0px">                                    <?Php                                    if (!empty($progress_result->cw_marks)) {       //MCQ Marks                                        echo $progress_result->cw_marks;                                        $total_marks +=$progress_result->cw_marks;                                    }?>                                </td>                                <td style="text-align: center; padding: 5px 0px">                                    <?Php                                    if (!empty($progress_result->hw_marks)) {       //Practical Marks (if any)                                        echo $progress_result->hw_marks;                                        $total_marks += $progress_result->hw_marks;                                    }?>                                </td>                                <td style="text-align: center; padding: 5px 0px">                                    <?php                                    if(!empty($progress_result && $total_marks !== 0)){         //Total Mark Sum = (CQ+MCQ+PR)                                        echo $total_marks;                                        $grand_total += $total_marks;                                    }                                    ?>                                </td>                                <td style="text-align: center; padding: 5px 0px"><?php echo $progress_height_marks;//Print Height Mark ?></td>                            </tr>                            <?php                            $sl--;                        endforeach;                    } /****************************End of Optional Subjects (if any)****************************/                    ?>                    </tbody>                </table>            </div>        </div>        <div class="clr"></div>        <br>        <div class="table_footer">            <div class="marks_body_left">                <table border="1">                    <thead>                        <tr>                            <th>Examination</th>                            <th>Comments</th>                            <th>Working Days</th>                            <th>Attendance</th>                            <th>Absent</th>                            <th>Class Teacher</th>                            <th>Principal/Headmaster</th>                            <th>Founder</th>                            <th>Guardian</th>                        </tr>                    </thead>                    <tbody>                    <?php//                    $attendance = $CI->report_model->get_singleStudentAttendance($exam->exam_id, $class_id, $student_id, 1);//                    $total_attendance = $CI->report_model->get_total_attendance($exam->exam_id, $class_id, 1);                    ?>                        <tr>                            <td><?= $exam->name?></td>                            <td></td>                            <td><?php //echo $total_attendance; ?></td>                            <td><?php //echo $attendance;?></td>                            <td><?php //echo ($total_attendance-$attendance); ?></td>                            <td></td>                            <td></td>                            <td></td>                            <td></td>                        </tr>                    </tbody>                </table>            </div>        </div>        <br>    </body></html>