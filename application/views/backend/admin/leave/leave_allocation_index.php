<style>    .box_shadow {        -webkit-box-shadow: 10px 2px 52px -19px rgba(0, 0, 0, 0.75);        -moz-box-shadow: 10px 2px 52px -19px rgba(0, 0, 0, 0.75);        box-shadow: 10px 2px 52px -19px rgba(0, 0, 0, 0.75);        padding-bottom: 20px;        padding-top: 20px;    }</style><hr /><div class="row">    <div class="col-md-12">        <!------CONTROL TABS START------>        <ul class="nav nav-tabs bordered">            <li class="active">                <a href="#list" data-toggle="tab"><i class="entypo-menu"></i>                    <?php echo get_phrase('leave_list');?>                </a>            </li>            <li>                <a href="#add" data-toggle="tab"><i class="entypo-plus-circled"></i>                    <?php echo get_phrase('add_leave');?>                </a></li>        </ul>        <!------CONTROL TABS END------>        <div class="tab-content">            <br>            <!----TABLE LISTING STARTS-->            <div class="tab-pane box active" id="list">                <table  class="table table-bordered datatable" id="table_export">                    <thead>                        <tr>                            <th><div><?php echo get_phrase('employee_name');?></div></th>                            <th><div><?php echo get_phrase('leave_type');?></div></th>                            <th><div><?php echo get_phrase('from_date');?></div></th>                            <th><div><?php echo get_phrase('to_date');?></div></th>                            <th><div><?php echo get_phrase('leave_count');?></div></th>                            <th><div><?php echo get_phrase('options');?></div></th>                        </tr>                    </thead>                    <tbody>                    <?php foreach($leave_list as $row):?>                        <tr>                            <td><?php echo $row->emp_name;?></td>                            <td><?php echo get_leaveNameById($row->leave_id);?></td>                            <td><?php echo date('d/m/Y', strtotime($row->from_date));?></td>                            <td><?php echo date('d/m/Y', strtotime($row->to_date));?></td>                            <td><?php echo $row->leavecount;?></td>                            <td>                                <div class="btn-group">                                    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">                                        Action <span class="caret"></span>                                    </button>                                    <ul class="dropdown-menu dropdown-default pull-right" role="menu">                                        <!-- EDITING LINK -->                                        <li>                                            <a href="#" onclick="showAjaxModal('<?php echo site_url('modal/popup/modal_edit_leave_application/'.$row->id);?>');">                                                <i class="entypo-pencil"></i>                                                <?php echo get_phrase('edit');?>                                            </a>                                        </li>                                        <li class="divider"></li>                                        <!--- DELETION LINK --->                                        <li>                                            <a href="#" onclick="confirm_modal('<?php echo site_url('leave/leave_application_action/delete_row/'.$row->id);?>');">                                                <i class="entypo-trash"></i>                                                <?php echo get_phrase('delete');?>                                            </a>                                        </li>                                    </ul>                                </div>                            </td>                        </tr>                    <?php endforeach;?>                    </tbody>                </table>            </div>            <!----TABLE LISTING ENDS--->            <!----CREATION FORM STARTS---->            <div class="tab-pane box row" id="add" style="padding: 5px">                <div class="col-xs-12">                    <div class="col-lg-8 box_shadow">                    <div class="box-content">                    <?php echo form_open(site_url('leave/store_leave_application') , array('class' => 'form-horizontal form-groups-bordered validate','target'=>'_top'));?>                    <div class="form-group">                        <label class="col-sm-3 control-label"><?php echo get_phrase('leave_type');?></label>                        <div class="col-sm-5">                            <select name="leave_id" id="leave_id" class="form-control" title="Leave Type" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>" required>                                <option value=""> Select a Leave Type</option>                                <?php                                foreach ($leaves as $le) {                                    echo '<option value="'.$le->id.'">'.$le->leave_name.'</option>';                                }                                ?>                            </select>                            <span class="form-error"><?php echo form_error('leave_id'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-3 control-label" for="employee_id"><?php echo get_phrase('employee_name');?></label>                        <div class="col-sm-5">                            <select name="employee_id" id="employee_id" class="form-control" title="<?php echo get_phrase('employee_name');?>" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>" required>                                <option value=""> Select an Employee </option>                                <?php                                foreach ($teachers as $emp) {                                    echo '<option value="'.$emp->teacher_id.'">'.$emp->name.'</option>';                                }                                ?>                            </select>                            <span class="form-error"><?php echo form_error('employee_id'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-3 control-label" for="from_date"><?php echo get_phrase('from_date');?></label>                        <div class="col-sm-5">                            <input type="text" class="datepicker form-control From_Date" name="from_date" id="from_date" placeholder="<?php echo get_phrase('from_date');?>" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>" readonly required>                            <span class="form-error"><?php echo form_error('from_date'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-3 control-label" for="to_date"><?php echo get_phrase('to_date');?></label>                        <div class="col-sm-5">                            <input type="text" class="datepicker form-control To_Date" name="to_date" id="to_date" placeholder="<?php echo get_phrase('to_date');?>" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>" readonly required/>                            <span class="form-error"><?php echo form_error('to_date'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-3 control-label" for="reason_type">Reason of Leave</label>                        <div class="col-sm-5">                            <input type="text" class="form-control" name="reason_type" id="reason_type" placeholder="Reason of Leave" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>"/>                            <span class="form-error"><?php echo form_error('reason_type'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <label class="col-sm-3 control-label" for="leavecount"><?php echo get_phrase('total_leave');?></label>                        <div class="col-sm-5">                            <input type="number" class="form-control" name="leavecount" id="leavecount" placeholder="Total Leave" data-validate="required" data-message-required="<?php echo get_phrase('value_required');?>" required>                            <span class="form-error"><?php echo form_error('leavecount'); ?></span>                        </div>                    </div>                    <div class="form-group">                        <div class="col-sm-offset-3 col-sm-5">                            <button type="submit" class="btn btn-info"><?php echo get_phrase('add_leave_application');?></button>                        </div>                    </div>                    </form>                </div>                    </div>                    <div class="col-xs-4 box_shadow">                        <table class="table ">                            <thead>                            <tr>                                <th colspan="4" style="text-align: center;">Current Leave status</th>                            </tr>                            <tr>                                <th>Type</th>                                <th>Total</th>                                <th>Enjoy</th>                                <th>Available</th>                            </tr>                            </thead>                            <tbody id="single_cls">                            <?php                            foreach ($leaves as $lt){                                echo "<tr><td>" . $lt->short_name . "</td><td>" . $lt->leave_days . "</td><td>00</td><td>" . $lt->leave_days . "</td></tr>";                            }                            ?>                            </tbody>                        </table>                    </div>                </div>            </div>            <!----CREATION FORM ENDS-->        </div>    </div></div><!-----  DATA TABLE EXPORT CONFIGURATIONS ----><script type="text/javascript">    jQuery(document).ready(function($)    {        $('#table_export').dataTable();    });    function date_diff(FD, TD) {        var date1 = new Date(FD);        var date2 = new Date(TD);        var timeDiff = Math.abs(date2.getTime() - date1.getTime());        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));        return diffDays + 1;    }    jQuery(function ($) {        /* Date difference counter */        $('#leavecount').on('focus', function () {//            alert('sdjfhsdjkfhjk');            var FD = $('.From_Date').datepicker({ dateFormat: 'dd-mm-yy' }).val();            var TD = $('.To_Date').datepicker({ dateFormat: 'dd-mm-yy' }).val();            // var FD = $('.From_Date').val();            // var TD = $('.To_Date').val();            // alert(FD + " - " + TD);            // FD = FD.format('d-m-Y');            // TD = TD.format('d-m-Y');            //alert(FD + " - " + TD);            //alert(date_diff(FD, TD));            $(this).val(date_diff(FD, TD));        });    });    $('select#employee_id').on("change", function () {        var teacher_id = $('select#employee_id option:selected').val();        // alert(teacher_id);        $.ajax({            type: "POST",            dataType: "json",            url: "<?php echo base_url(); ?>index.php/Leave/get_employee_info/" + teacher_id,            success: function (data) {                jQuery('#single_cls').html(data['found_table']);            }        });    });</script>