<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');class Leave_model extends CI_Model {    function __construct()    {        parent::__construct();    }    public function get_leaveName_byId($id)    {        $data = $this->db->where('id', $id)->get('leaves');        return ($data->num_rows() > 0) ? $data->row()->leave_name : '';    }    public function get_single_leave_status($emp_id, $year)    {        $this->db->select('le.id as leave_id, le.leave_name, le.short_name, le.leave_days, SUM(laf.leavecount) as enjoy_leave ');        $this->db->from('leave_apply_form as laf');        $this->db->where('laf.employee_id', $emp_id);        $this->db->where('laf.year', $year);        $this->db->where('laf.status', 1);        $this->db->join('leaves as le', 'laf.leave_id=le.id', 'left outer');        $this->db->group_by('laf.employee_id,laf.leave_id');        $query = $this->db->get();        //echo $this->db->last_query();exit();        return $query->result();    }    public function store_leave_application($data = array()) {        if ($this->db->insert('leave_apply_form', $data)) {            return $this->db->insert_id();        } else {            return false;        }    }}